<!DOCTYPE html>
<html lang="en">
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <head>
        <title>Hi-Lex</title>    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        <script src='https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js'></script>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <link rel="stylesheet" type="text/css" href="scripts_jscssphp/main.css">
        <script type="text/javascript">
            $(function () {
                $('#my_nav_full').load('static/head_nonav_min.html');
            });
        </script>
        <link rel="apple-touch-icon" sizes="180x180" href="images/fav/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="images/fav/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="images/fav/favicon-16x16.png">
		<link rel="manifest" href="images/fav/site.webmanifest">

		<script src="scripts_jscssphp/lib_modernizr-custom.js" type="text/javascript"></script>
		<script src="scripts_jscssphp/lib_platform-1.3.5.js"></script>
		<script src="scripts_jscssphp/lib_device-uuid-1.0.1.js"></script>
		<script src="scripts_jscssphp/lib_custom_device.js"></script>
		<script src="scripts_jscssphp/functs_profile.js"></script>
	</head>
	
	<style> 
		label { font-weight: bold; font-size: 14px;} 
		#slider_val { font-weight: bold; font-size: 18px; color: blue;}
		.ticks { display: flex; width: 79%;}
		.o_txt { flex: 1;}
	</style>



	<script type="text/javascript">


		window.onload = function (e) {
			var stateObjFull = [];
			var countryObj = (function() { var json = null;
			$.ajax({'async': false, 'global': false, 'cache':false, 'url': "static/countries+states+cities_short3.json", 'dataType': "json",
				'success': function(data) { json = data; } });
			return json;})();

			console.log(countryObj)
			var countrySel = document.getElementById("countrySel")
			var stateSel = document.getElementById("stateSel")
			var citySel = document.getElementById("citySel")
			for (var i in countryObj) {
				countrySel.options[countrySel.options.length] = new Option(countryObj[i].name, countryObj[i].name);
			}

			countrySel.onchange = function() {
				if (this.selectedIndex < 1) return;
				stateSel.length = 1; citySel.length = 1; // remove all options
				//stateObj = countryObj.filter(obj => obj.name === this.value)[0].states;
				stateObjFull = countryObj.filter(obj => obj.name === this.value)[0].states;
				stateObj = Object.keys(countryObj.filter(obj => obj.name === this.value)[0].states);
				//console.log(stateObj)
				if (stateObj.length == 0) stateSel.options[stateSel.options.length] = new Option('select this','select this');
				for (var i in stateObj) {
					//stateSel.options[stateSel.options.length] = new Option(stateObj[i].name, stateObj[i].name);
					stateSel.options[stateSel.options.length] = new Option(stateObj[i], stateObj[i]);
				}
			}

			stateSel.onchange = function() {
				if (this.value == 'select this') {
					citySel.options[citySel.options.length] = new Option('select this','select this'); 
					return;
				}
				citySel.length = 1; // remove all options
				//cityObj = stateObj.filter(obj => obj.name === this.value)[0].cities;
				cityObj = stateObjFull[this.value]
				//console.log(cityObj)
				if (cityObj.length == 0) citySel.options[citySel.options.length] = new Option('select this','select this');
				for (var i in cityObj) {
					//citySel.options[citySel.options.length] = new Option(cityObj[i].name, cityObj[i].name);
					citySel.options[citySel.options.length] = new Option(cityObj[i], cityObj[i]);
				}
			}

			var ageHi = document.getElementById("ageHi")
			for (i=1; i<76; i++) {
				ageHi.options[ageHi.options.length] = new Option(i.toString(), i.toString());
			}

			var expHi = document.getElementById("expHi")
			for (i=1; i<151; i++) {
				expHi.options[expHi.options.length] = new Option(i.toString(), i.toString());
			}

			var studyHi = document.getElementById("studyHi")
			for (i=1; i<51; i++) {
				studyHi.options[studyHi.options.length] = new Option(i.toString(), i.toString());
			}

			var hrsDayHi = document.getElementById("hrsDayHi")
			for (i=1; i<25; i++) {
				hrsDayHi.options[hrsDayHi.options.length] = new Option(i.toString(), i.toString());
			}

			var yrsLivedHi = document.getElementById("yrsLivedHi")
			for (i=1; i<151; i++) {
				yrsLivedHi.options[yrsLivedHi.options.length] = new Option(i.toString(), i.toString());
			}
		}
	</script>

	<body>
		<!-- Navigation-->
		<div id="my_nav_full"></div>
		<!-- Header-->   

		<p id="just_flag" style="display: none;">E</p>

		<div class="container" style="margin-bottom: 10px; margin-top: 33.3333px;">
			<div class="col-md-10" style="margin-bottom: 10px;">
			
			<center>
				<button class="btn-sm btn-primary block" onclick="toggleLanguage()" id="i0"> इसे हिंदी में बदलें </button> <br>
			</center>
			
			<br><br>
			<h3 id="head1">Demographic Survey Questions</h3>
			<p id="line1">Please complete the following questions before you start. It will help us immensely in research study.</p>
			
			<hr>

			<form id="form1" role="form" class="form-horizontal">

				<div class="form-group row" id="pid_head">
					<label class="col-sm-3 control-label text-left" id='i00'>Participation ID (anonymous)</label>
					<div class="col-sm-3">
						<input readonly type="text" class="form-control" placeholder="HiLex_#######" name="partid" id="pid_auto">
					</div>

					<label class="col-sm-1 control-label text-left" id='i01'>Age</label>
					<div class="col-sm-2">
						<input placeholder="- - - -" min=5 max=150 type="number" name="ans1_age" class="form-control" required/>
					</div>

					<label class="col-sm-1 control-label text-left" id='i02'>Gender</label>
					<div class="col-sm-2">
						<select class="form-control" name="ans2_gender" required>
							<option value="">- - - -</option>
							<option id='i21' value="female">Female</option>
							<option id='i22' value="male">Male</option>
							<option id='i23' value="other">Others</option>
							<option id='i24' value="not">Rather not say</option>
						</select>
					</div>

				</div>

				<div class="alert alert-success alert-dismissable" id="myAlert1" style="display:none;">
		            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
		            Thank you!!! Your answers are saved successfully, you can now proceed to the test.
		        </div>
		        <div class="alert alert-danger alert-dismissable" id="myAlert2" style="display:none;">
		            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
		            The questionnaire with this participant ID is already saved. You can directly proceed to the test. <br><br>If you want to change answers, then click on "Change my answers".
		        </div>

		        <div class="form-group row">
					<label class="col-sm-3 control-label text-left" id='i03'>Where have you lived the most ?<br> <span class='text-info'><small style='font-size: 12px;'>Scroll further to see more places</small></span></label>
					<div class="col-sm-3">
						<select class="form-control" name="ans3Count" id='countrySel' required>
							<option value="" id="i31">Country</option>
						</select>
					</div>

					<div class="col-sm-3">
						<select class="form-control" name="ans3State" id='stateSel' required>
							<option value="" id='i32'>State</option>
						</select>
					</div>

					<div class="col-sm-3">
						<select class="form-control" name="ans3City" id='citySel' required>
							<option value="" id='i33'>City/ District</option>
						</select>
					</div>
					
				</div>



				<div class="form-group row">
				<label class="col-sm-5 control-label text-left" id='i04'>What is the highest degree you are currently working towards ?</label>
				<div class="col-sm-7">
					<select class="form-control" name="ans4_edu" required>
						<option value="" id=''>-- select an option --</option>
						<option value="Primary" id='i41'>Primary school (upto class 8th)</option>
						<option value="SecSchool" id='i42'>Secondary school (upto class 10th)</option>
						<option value="HighSecSchool" id='i43'>Higher secondary (upto class 12th)</option>
						<option value="Bachelor" id='i44'>Graduation - Bachelor</option>
						<option value="Master" id='i45'>Postgraduation - Master</option>
						<option value="PhD" id='i46'>Doctorate</option>
						<option value="PDF" id='i47'>Postdoc</option>
					</select>
				</div>
				</div>

				<br>
				<h3 id="head2">Language Related Questions</h3>
				<p id="line2">Please use sliders wherever necessary.</p>
				<hr>


				<div class="form-group row">
					<label class="col-sm-3 control-label" id='i05'>Your first language<br>
					<span class='text-info'><small style='font-size: 12px;'>Native language/ Mother tongue</small></span>
					</label>
					<div class="col-sm-3">
						<input type="text" class="form-control" placeholder="eg, Malayalam" name="ans5_nat" required>
					</div>

					<label class="col-sm-3 control-label" id='i06'>Other languages<br>
					<span class='text-info'><small style='font-size: 12px;'>from most familiar to least</small></span>
					</label>
					<div class="col-sm-3">
						<input type="text" class="form-control" placeholder="eg, English, Marathi" name="ans5_oth" required>
					</div>
				</div>

				<div class="form-group row">
					<label class="col-sm-5 control-label" id="i07">How good is your Hindi? (please rate 1-10)<br>
					<span class="text-info"><small style="font-size: 12px;">1-No knowlege, &nbsp; 10-Fluent/ Expert<br><strong>Please use the slider for response</strong></small></span>
					</label>
					<div class="col-sm-7">
						<input class="inp" type="range" list="tickmarks" name="cook7_knw" min="1" max="10" step="0.1" value="1.2" required oninput="updateRangeInput(this)"> 
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<output id="slider_val">1.2</output>
							<datalist id="tickmarks" style="display: none">
								<option value="1"></option>
								<option value="2"></option>
								<option value="3"></option>
								<option value="4"></option>
								<option value="5"></option>
								<option value="6"></option>
								<option value="7"></option>
								<option value="8"></option>
								<option value="9"></option>
								<option value="10"></option>
							</datalist>
							<div class="ticks">
								<span class="o_txt">1</span>
								<span class="o_txt">2</span>
								<span class="o_txt">3</span>
								<span class="o_txt">4</span>
								<span class="o_txt">5</span>
								<span class="o_txt">6</span>
								<span class="o_txt">7</span>
								<span class="o_txt">8</span>
								<span class="o_txt">9</span>
								<span class="o_txt">10</span>
							</div>
					</div>
				</div>

				<div class="form-group row">
					<label class="col-sm-5 control-label" id="i71">&nbsp;&bull;&nbsp;Rate your ability to speak Hindi<br>
					<span class="text-info"><small style="font-size: 12px;">1-No knowlege, &nbsp; 10-Fluent/ Expert<br></small></span></label>
					<div class="col-sm-7">
						<input class="inp" type="range" list="tickmarks" name="cook71_speak" min="1" max="10" step="0.1" value="1.2" required oninput="updateRangeInput(this)"> 
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<output id="slider_val">1.2</output>
							<datalist id="tickmarks" style="display: none">
								<option value="1"></option>
								<option value="2"></option>
								<option value="3"></option>
								<option value="4"></option>
								<option value="5"></option>
								<option value="6"></option>
								<option value="7"></option>
								<option value="8"></option>
								<option value="9"></option>
								<option value="10"></option>
							</datalist>
							<div class="ticks">
								<span class="o_txt">1</span>
								<span class="o_txt">2</span>
								<span class="o_txt">3</span>
								<span class="o_txt">4</span>
								<span class="o_txt">5</span>
								<span class="o_txt">6</span>
								<span class="o_txt">7</span>
								<span class="o_txt">8</span>
								<span class="o_txt">9</span>
								<span class="o_txt">10</span>
							</div>
					</div>
				</div>

				<div class="form-group row">
					<label class="col-sm-5 control-label" id="i72">&nbsp;&bull;&nbsp;Rate your ability to understand Hindi<br>
					<span class="text-info"><small style="font-size: 12px;">1-No knowlege, &nbsp; 10-Fluent/ Expert<br></small></span></label>
					<div class="col-sm-7">
						<input class="inp" type="range" list="tickmarks" name="cook72_understand" min="1" max="10" step="0.1" value="1.2" required oninput="updateRangeInput(this)"> 
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<output id="slider_val">1.2</output>
							<datalist id="tickmarks" style="display: none">
								<option value="1"></option>
								<option value="2"></option>
								<option value="3"></option>
								<option value="4"></option>
								<option value="5"></option>
								<option value="6"></option>
								<option value="7"></option>
								<option value="8"></option>
								<option value="9"></option>
								<option value="10"></option>
							</datalist>
							<div class="ticks">
								<span class="o_txt">1</span>
								<span class="o_txt">2</span>
								<span class="o_txt">3</span>
								<span class="o_txt">4</span>
								<span class="o_txt">5</span>
								<span class="o_txt">6</span>
								<span class="o_txt">7</span>
								<span class="o_txt">8</span>
								<span class="o_txt">9</span>
								<span class="o_txt">10</span>
							</div>
					</div>
				</div>

				<div class="form-group row">
					<label class="col-sm-5 control-label" id="i73">&nbsp;&bull;&nbsp;Rate your ability to read Hindi<br>
					<span class="text-info"><small style="font-size: 12px;">1-No knowlege, &nbsp; 10-Fluent/ Expert<br></small></span></label>
					<div class="col-sm-7">
						<input class="inp" type="range" list="tickmarks" name="cook73_read" min="1" max="10" step="0.1" value="1.2" required oninput="updateRangeInput(this)"> 
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<output id="slider_val">1.2</output>
							<datalist id="tickmarks" style="display: none">
								<option value="1"></option>
								<option value="2"></option>
								<option value="3"></option>
								<option value="4"></option>
								<option value="5"></option>
								<option value="6"></option>
								<option value="7"></option>
								<option value="8"></option>
								<option value="9"></option>
								<option value="10"></option>
							</datalist>
							<div class="ticks">
								<span class="o_txt">1</span>
								<span class="o_txt">2</span>
								<span class="o_txt">3</span>
								<span class="o_txt">4</span>
								<span class="o_txt">5</span>
								<span class="o_txt">6</span>
								<span class="o_txt">7</span>
								<span class="o_txt">8</span>
								<span class="o_txt">9</span>
								<span class="o_txt">10</span>
							</div>
					</div>
				</div>

				<div class="form-group row">
					<label class="col-sm-5 control-label" id="i74">&nbsp;&bull;&nbsp;Rate your ability to write Hindi<br>
					<span class="text-info"><small style="font-size: 12px;">1-No knowlege, &nbsp; 10-Fluent/ Expert<br></small></span></label>
					<div class="col-sm-7">
						<input class="inp" type="range" list="tickmarks" name="cook74_write" min="1" max="10" step="0.1" value="1.2" required oninput="updateRangeInput(this)"> 
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<output id="slider_val">1.2</output>
							<datalist id="tickmarks" style="display: none">
								<option value="1"></option>
								<option value="2"></option>
								<option value="3"></option>
								<option value="4"></option>
								<option value="5"></option>
								<option value="6"></option>
								<option value="7"></option>
								<option value="8"></option>
								<option value="9"></option>
								<option value="10"></option>
							</datalist>
							<div class="ticks">
								<span class="o_txt">1</span>
								<span class="o_txt">2</span>
								<span class="o_txt">3</span>
								<span class="o_txt">4</span>
								<span class="o_txt">5</span>
								<span class="o_txt">6</span>
								<span class="o_txt">7</span>
								<span class="o_txt">8</span>
								<span class="o_txt">9</span>
								<span class="o_txt">10</span>
							</div>
					</div>
				</div>

				<div class="form-group row">
					<label class="col-sm-5 control-label" id='i08'>Age when you started learning Hindi</label>
					<div class="col-sm-6">
					<select class="form-control" name="ans8_age" id="ageHi" required>
						<option value="" id=''>select age since when you are learning Hindi</option>
						<option value="0">Since birth (mother tongue)</option>
					</select>
					</div>
				</div>

				<div class="form-group row">
					<label class="col-sm-5 control-label" id='i09'>Number of years of experience with Hindi</label>
					<div class="col-sm-6">
					<select class="form-control" id="expHi" name="ans9_exp" required>
						<option value="" id=''>select number of years using Hindi</option>
						<option value="0"> 0 - No experience</option>		
					</select>
					</div>
				</div>

				<div class="form-group row">
					<label class="col-sm-5 control-label" id='i10'>Number of years you studied Hindi subject in school/ college</label>
					<div class="col-sm-6">
					<select class="form-control" id="studyHi" name="ans10_stud" required>
						<option value="" id=''>select number of years studying Hindi as a subject</option>
						<option value="0"> 0 - Never studied Hindi subject</option>	
					</select>
					</div>
				</div>

				<div class="form-group row">
				<label class="col-sm-5 control-label text-left" id='i11'>Language of instruction was Hindi during education</label>
				<div class="col-sm-6">
					<select class="form-control" name="ans11_med" required>
						<option value="" id=''>-- select an option --</option>
						<option value="Never">never learned where Hindi was the language of instruction</option>
						<option value="PrimarySchool">upto primary school</option>
						<option value="uptoClass6">upto class 6th</option>
						<option value="uptoClass8">upto class 8th</option>
						<option value="uptoClass10">upto class 10th</option>
						<option value="uptoClass12">upto class 12th</option>
						<option value="uptoGrad">upto Graduation</option>
						<option value="uptoPostGrad">upto Post Graduation</option>
					</select>
				</div>
				</div>

				<div class="form-group row">
					<label class="col-sm-5 control-label" id='i12'>Approx. number of hours spent per day using Hindi <br>
					<span class="text-info"><small style="font-size: 12px;">Sum up all (reading/ writing/ communicating)</small></span></label>
					<div class="col-sm-6">
					<select class="form-control" id="hrsDayHi" name="ans12_day" required>
						<option value="" id=''>select number of hrs per day using Hindi</option>
						<option value="0"> 0 hours - No use of Hindi in a day</option>
					</select>
					</div>
				</div>

				<div class="form-group row">
					<label class="col-sm-5 control-label" id='i13'>Total number of years lived in Hindi speaking region</label>
					<div class="col-sm-6">
					<select class="form-control" id="yrsLivedHi" name="ans13_exp" required>
						<option value="" id=''>select number of years lived in such region</option>
						<option value="0"> 0 - Never lived in Hindi speaking region</option>
					</select>
					</div>
				</div>


				<div class="form-group row">
					<label class="col-sm-6 control-label" id="i14">I agree to share my data for research <br>
					<span class='text-info'><small style='font-size: 12px;'>All your data will be deleted from server after 90 days.<br>Your data remains anonymized and unidentifiable.<br>Your data will not be shared with third parties.</small></span></label>
					<div class="col-sm-6">
					<br><br>
					<div class="form-check form-check-inline"> 
					  <input class="form-check-input" type="radio" required value="true" name="ans14" id="yesid">
					  <label class="form-check-label" id='i141' for="yesid">&nbsp;&nbsp;Yes</label>
					</div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					<div class="form-check form-check-inline">
					  <input class="form-check-input" type="radio" required value="false" name="ans14" id="noid">
					  <label class="form-check-label" id='i142' for="noid">&nbsp;&nbsp;No</label>
					</div>
					</div>
				</div>

				<br>

				<div class="form-group row"><div class="col-sm-3">
					<button class="btn btn-success btn-block" id="save-button" type="button" onclick="save_and_hide();">Save and Continue</button>
				</div></div>

				<div class="row">
					<div class="col-sm-3">
						<a role="button" href="profile-full.html" class="btn btn-danger btn-block" id="clear" style="display: none;" onclick="clearCookies();">Change my answers</a>
					</div>
					<div class="col-sm-1">&nbsp;&nbsp;&nbsp;</div>
					<div class="col-sm-3">
						<a role="button" href="instructions.html" class="btn btn-success btn-block" id="start" style="display: none;">
							Start the test
						</a>
					</div>
				</div>

				</form>
			</div>
		</div>

		<br><br><br><br><br><br><br>


		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
		<script type="text/javascript">
			var SessionData = sessionStorage.getItem("startData");
			SessionData = JSON.parse(SessionData)
			var pid = SessionData.pID
			var eid = SessionData.eID
			var emailID = SessionData.emailID
			console.log(SessionData);
			document.getElementsByName('partid')[0].placeholder = pid;

			//removes confusion for space before key_names (issue with earlier version of code, now in archieves)
			var tmp_cook = document.cookie.replaceAll("; ",";"); 
			cookies_json = str_obj(tmp_cook);

			if(cookies_json['cook_ClientProfID'] == pid){
				console.log('Previous cookies exist, fetching pid :-)');
				hide_forms();
				pid = cookies_json['cook_ClientProfID'];
				//pid_show = "LexT_" + pid.split("_")[3];
				$("#myAlert1").css("display", "None");
				$("#myAlert2").css("display", "");	
			}
			else{
				console.log('Cookies not present, continuing normal');
			}

			
			//ini_link = document.getElementById("start").href;
			//device_type = ""
			//final_link = ini_link.split("?")[0]+"?part_id="+pid+"&device="+device_type;
			//clear_link = document.getElementById("clear").href + "?device="+device_type;			
			//document.getElementById("start").href = final_link;
			//document.getElementById("clear").href = clear_link;

		</script>
	</body>
	
</html>